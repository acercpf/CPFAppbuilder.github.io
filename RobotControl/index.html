<!DOCTYPE html>
<html>
<head>

</head>

<body>


<p id="demo">電燈狀態一</p>
<button type="button" id="lighton" onclick="myFunction1()">開燈</button>
<button type="button" id="lightoff" onclick="myFunction2()">關燈</button>
<button type="button" id="up" onclick="myFunction3()">向上</button>
<button type="button" id="down" onclick="myFunction4()">向下</button>
<button type="button" id="left" onclick="myFunction5()">向左</button>
<button type="button" id="right" onclick="myFunction6()">向右</button>

</body>

<script>
setup();

	function setup(){
		if(cpf)
			var ret = cpf.setPinMode('["resetPin"],["setPinMode", "digital", 4, "OUTPUT"],["setPinMode", "digital", 5, "SERVO"],["setPinMode", "digital", 6, "SERVO"]'); 
	}
    function myFunction1(){
        cpf.set("socket d4", 1);
        cpf.request ('["digitalwrite", 4, 1]');
        document.getElementById("demo").innerHTML="開燈了！";
    }
    function myFunction2(){
        cpf.set("socket d4", 0);
        cpf.request ('["digitalwrite", 4, 0]');
        document.getElementById("demo").innerHTML="關燈了！";
    }
        function myFunction3(){
        cpf.set("socket d5", 0);
        cpf.request ('["servo_pos", 5, 0]');
        cpf.set("socket d6", 0);
        cpf.request ('["servo_pos", 6, 0]');
        cpf.set("socket d5", 180);
        cpf.request ('["servo_pos", 5, 180]');
        cpf.set("socket d6", 180);
        cpf.request ('["servo_pos", 6, 180]');
        document.getElementById("demo").innerHTML="向前進";
    }
        function myFunction4(){
        cpf.set("socket d5", 180);
        cpf.request ('["servo_pos", 5, 180]');
        document.getElementById("demo").innerHTML="向後退";
    }
        function myFunction5(){
        cpf.set("socket d6", 0);
        cpf.request ('["servo_pos", 6, 0]');
        document.getElementById("demo").innerHTML="向左轉";
    }
        function myFunction6(){
        cpf.set("socket d6", 180);
        cpf.request ('["servo_pos", 6, 180]');
        document.getElementById("demo").innerHTML="向右轉";
    }
</script>
</html>

